<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>SRM Insider Community - Recruitment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css" />
    <style>
      .g-recaptcha {
        filter: invert(1) hue-rotate(180deg) !important;
        -webkit-filter: invert(1) hue-rotate(180deg) !important;
        margin-bottom: 0.5rem;
      }
      .grecaptcha-badge {
        filter: invert(1) hue-rotate(180deg) !important;
      }
      
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #23262F;
      }
      ::-webkit-scrollbar-thumb {
        background: #45B4FF;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #1e90ff;
      }
    </style>
  </head>
  <body class="bg-black min-h-screen">
  <script>
    window.scrollTo(0, 0);
    window.history.scrollRestoration = "manual";
  </script>
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-40 bg-[#0e0f13]/80 backdrop-blur-sm border-b border-[#23262F]">
      <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
        <div class="flex items-center gap-8">
          <span class="text-xl font-bold" style="color: #45b4ff">SRM Insider</span>
          <div class="hidden md:flex items-center gap-6">
            <a href="#home" class="nav-link">Home</a>
            <a href="#domains" class="nav-link">Domains</a>
            <a href="#apply" class="nav-link">Apply</a>
          </div>
        </div>
      </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="min-h-screen flex items-center justify-center relative overflow-hidden pt-20">
      <div class="absolute inset-0 -z-10">
        <div class="pointer-events-none absolute -top-24 -left-24 h-72 w-72 bg-[#45B4FF] opacity-10 blur-3xl rounded-full animate-float-slow parallax" data-speed="-0.03"></div>
        <div class="pointer-events-none absolute -bottom-24 -right-24 h-96 w-96 bg-[#1e90ff] opacity-10 blur-3xl rounded-full animate-float parallax" data-speed="0.02"></div>
        <div class="pointer-events-none absolute top-1/3 right-1/4 h-64 w-64 bg-[#45B4FF] opacity-5 blur-2xl rounded-full animate-float-delayed parallax" data-speed="0.05"></div>
      </div>
      
      <div class="text-center max-w-5xl mx-auto px-4">
        <div class="mb-12">
          <img src="https://res.cloudinary.com/dnyqwoeyh/image/upload/v1751353460/logo_rsvmqr.jpg" alt="SRM Insider Logo" class="w-32 h-32 mx-auto rounded-full border-4 border-[#23262F] mb-8 shadow-2xl" />
        </div>
        <h1 class="text-7xl md:text-8xl font-black mb-8 gradient-text">SRM INSIDER</h1>
        <h2 class="text-3xl md:text-4xl font-bold mb-10" style="color: #89d6ff">Built by Students, for Every SRM Student</h2>
        <p class="text-2xl mb-16 max-w-4xl mx-auto" style="color: #b3e5ff; opacity: 0.9">
          Join the community where innovation meets student life. Build real tools, solve real problems, and grow with peers who share your passion.
        </p>
        <div class="flex flex-col sm:flex-row gap-6 justify-center items-center">
          <a href="#domains" class="btn btn-primary btn-ripple text-xl px-10 py-5">Explore Domains</a>
          <a href="#apply" class="btn btn-secondary btn-ripple text-xl px-10 py-5">Apply Now</a>
        </div>
      </div>
    </section>

    <!-- Domains Section -->
    <section id="domains" class="min-h-screen flex items-center justify-center py-20 relative">
      <div class="max-w-6xl mx-auto px-4 w-full">
        <div class="text-center mb-16">
          <h2 class="text-5xl font-black mb-6 gradient-text">Choose Your Trail</h2>
          <p class="text-xl max-w-3xl mx-auto" style="color: #89d6ff; opacity: 0.9">
            Pick the domain that best fits your skills and passion. Each trail leads to real projects and impact.
          </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="domain-card-large">
            <div class="domain-icon-large">{</div>
            <div class="domain-content-large">
              <h3 class="domain-title-large">Frontend Web Development</h3>
              <p class="domain-desc-large">Build fast, accessible UIs with modern frameworks and micro-animations.</p>
              <div class="domain-tags">
                <span class="domain-tag">React</span>
                <span class="domain-tag">Vue</span>
                <span class="domain-tag">Next.js</span>
              </div>
            </div>
          </div>
          
          <div class="domain-card-large">
            <div class="domain-icon-large">}</div>
            <div class="domain-content-large">
              <h3 class="domain-title-large">Backend Web Development</h3>
              <p class="domain-desc-large">Design APIs, databases, and reliable services that power our platforms.</p>
              <div class="domain-tags">
                <span class="domain-tag">Node.js</span>
                <span class="domain-tag">Python</span>
                <span class="domain-tag">PostgreSQL</span>
              </div>
            </div>
          </div>
          
          <div class="domain-card-large">
            <div class="domain-icon-large">▣</div>
            <div class="domain-content-large">
              <h3 class="domain-title-large">App Development</h3>
              <p class="domain-desc-large">Ship smooth mobile apps with clean architecture and responsive UX.</p>
              <div class="domain-tags">
                <span class="domain-tag">React Native</span>
                <span class="domain-tag">Flutter</span>
                <span class="domain-tag">iOS/Android</span>
              </div>
            </div>
          </div>
          
          <div class="domain-card-large">
            <div class="domain-icon-large">✎</div>
            <div class="domain-content-large">
              <h3 class="domain-title-large">Editorial</h3>
              <p class="domain-desc-large">Craft stories, copy, and content that reflect our voice and mission.</p>
              <div class="domain-tags">
                <span class="domain-tag">Content</span>
                <span class="domain-tag">Copywriting</span>
                <span class="domain-tag">Blog</span>
              </div>
            </div>
          </div>
          
          <div class="domain-card-large">
            <div class="domain-icon-large">★</div>
            <div class="domain-content-large">
              <h3 class="domain-title-large">Creatives</h3>
              <p class="domain-desc-large">Design visuals, motion, and media that bring ideas to life.</p>
              <div class="domain-tags">
                <span class="domain-tag">UI/UX</span>
                <span class="domain-tag">Motion</span>
                <span class="domain-tag">Branding</span>
              </div>
            </div>
          </div>
          
          <div class="domain-card-large">
            <div class="domain-icon-large">∞</div>
            <div class="domain-content-large">
              <h3 class="domain-title-large">AI / ML</h3>
              <p class="domain-desc-large">Prototype intelligent features using data, models, and experimentation.</p>
              <div class="domain-tags">
                <span class="domain-tag">Python</span>
                <span class="domain-tag">TensorFlow</span>
                <span class="domain-tag">Data Science</span>
              </div>
            </div>
          </div>
          
          <div class="domain-card-large">
            <div class="domain-icon-large">☰</div>
            <div class="domain-content-large">
              <h3 class="domain-title-large">Marketing</h3>
              <p class="domain-desc-large">Grow our reach with campaigns, socials, and community engagement.</p>
              <div class="domain-tags">
                <span class="domain-tag">Social Media</span>
                <span class="domain-tag">Growth</span>
                <span class="domain-tag">Analytics</span>
              </div>
            </div>
          </div>
          
          <div class="domain-card-large">
            <div class="domain-icon-large">₹</div>
            <div class="domain-content-large">
              <h3 class="domain-title-large">Sponsorship</h3>
              <p class="domain-desc-large">Build partnerships and secure resources to scale our initiatives.</p>
              <div class="domain-tags">
                <span class="domain-tag">Partnerships</span>
                <span class="domain-tag">Outreach</span>
                <span class="domain-tag">Strategy</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="text-center mt-16">
          <a href="#apply" class="btn btn-primary btn-ripple text-lg px-8 py-4">Ready to Apply?</a>
        </div>
      </div>
    </section>

    <!-- Apply Section -->
    <section id="apply" class="min-h-screen flex items-center justify-center py-20 relative">
      <div class="max-w-7xl mx-auto px-4 w-full flex justify-center">
        <div class="pointer-events-none absolute -top-24 -left-24 h-72 w-72 bg-[#45B4FF] opacity-10 blur-3xl rounded-full animate-float-slow parallax" data-speed="-0.03"></div>
        <div class="pointer-events-none absolute -bottom-24 -right-24 h-96 w-96 bg-[#1e90ff] opacity-10 blur-3xl rounded-full animate-float parallax" data-speed="0.02"></div>
        <div class="pointer-events-none absolute top-1/3 right-1/4 h-64 w-64 bg-[#45B4FF] opacity-5 blur-2xl rounded-full animate-float-delayed parallax" data-speed="0.05"></div>
    <div
      id="loader-overlay"
      class="fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-70 hidden"
    >
      <div class="flex flex-col items-center">
        <svg
          class="animate-spin h-12 w-12 text-[#45B4FF] mb-4"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="#45B4FF"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="#45B4FF"
            d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
          ></path>
        </svg>
        <span class="text-[#45B4FF] font-semibold">Submitting Recruitment...</span>
      </div>
    </div>

    <div
      id="success-modal"
      class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 hidden"
    >
      <div
        class="bg-[#181A20] rounded-2xl shadow-2xl p-8 max-w-sm w-full border border-[#23262F] text-center modal-enter"
      >
        <img
          src="https://res.cloudinary.com/dnyqwoeyh/image/upload/v1751353460/logo_rsvmqr.jpg"
          alt="Logo"
          class="w-16 h-16 mx-auto mb-4 rounded-full border-2 border-[#23262F]"
        />
        <h3 class="text-2xl font-bold mb-2" style="color: #45b4ff">
          Recruitment Submitted!
        </h3>
        <p class="mb-4 text-[#45B4FF]">
          Thank you for your interest in joining the SRM Insider Community!<br />
          We will review your application and contact you soon.
        </p>
        <button
          id="close-modal"
          class="mt-2 bg-[#45B4FF] hover:bg-[#1e90ff] text-black font-bold py-2 px-6 rounded-xl shadow transition"
        >
          Close
        </button>
      </div>
    </div>



        <form
          id="enquiry-form"
          class="bg-[#181A20] shadow-2xl rounded-2xl px-12 pt-12 pb-12 w-full max-w-4xl space-y-10 border border-[#23262F] animate-raise card-tilt aurora-card with-floating"
        >
          <div class="flex flex-col items-center mb-8">
            <img
              src="https://res.cloudinary.com/dnyqwoeyh/image/upload/v1751353460/logo_rsvmqr.jpg"
              alt="SRM Insider Logo"
              class="w-24 h-24 rounded-full shadow-lg mb-4 border-4 border-[#23262F] cursor-pointer hover:shadow-blue-glow transition"
            />
            <h2 class="text-4xl font-extrabold text-center" style="color: #45b4ff">
              Recruitment
            </h2>
            <p
              class="text-center text-lg mt-2"
              style="color: #45b4ff; opacity: 0.8"
            >
              Join the SRM Insider Community
            </p>
          </div>

          <div class="space-y-6 reveal">
            <h3 class="text-2xl font-bold mb-2" style="color: #45b4ff">Personal Information</h3>
            
            <div class="floating-group">
              <input type="text" name="name" placeholder="Full Name *" required class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm" />
              <span class="floating-label">Full Name *</span>
            </div>
            
            <div class="floating-group">
              <input type="email" name="srm_email" placeholder="SRM Email ID (@srmist.edu.in) *" pattern="[a-z0-9._%+-]+@srmist\.edu\.in$" required class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm" />
              <span class="floating-label">SRM Email ID (@srmist.edu.in) *</span>
            </div>
            
            <div class="floating-group">
              <input type="email" name="personal_email" placeholder="Personal Email ID *" required class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm" />
              <span class="floating-label">Personal Email ID *</span>
            </div>
            
            <div class="floating-group">
              <input type="tel" name="mobile" placeholder="Mobile Number *" pattern="[0-9]{10}" required class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm" />
              <span class="floating-label">Mobile Number *</span>
            </div>
            
            <div class="floating-group">
              <input type="text" name="registration_number" placeholder="SRM Registration Number *" required class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm" />
              <span class="floating-label">SRM Registration Number *</span>
            </div>
            <div class="space-y-2">
              <label class="block text-[#45B4FF] font-medium">Choose Your Domain: <span class="text-red-500">*</span></label>
              <input type="hidden" name="domain" id="domainHidden" required />
              <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3">
                <button type="button" class="domain-card inline-select" data-value="frontend web developemt">
                  <div class="domain-icon">{</div>
                  <div class="domain-content text-left">
                    <h4 class="domain-title">Frontend</h4>
                    <p class="domain-desc">Build modern, fast, accessible interfaces.</p>
                  </div>
                </button>
                <button type="button" class="domain-card inline-select" data-value="backend web developemt">
                  <div class="domain-icon">}</div>
                  <div class="domain-content text-left">
                    <h4 class="domain-title">Backend</h4>
                    <p class="domain-desc">APIs, databases, performance, reliability.</p>
                  </div>
                </button>
                <button type="button" class="domain-card inline-select" data-value="app developent">
                  <div class="domain-icon">▣</div>
                  <div class="domain-content text-left">
                    <h4 class="domain-title">App Dev</h4>
                    <p class="domain-desc">Mobile apps with clean UX and architecture.</p>
                  </div>
                </button>
                <button type="button" class="domain-card inline-select" data-value="editorial">
                  <div class="domain-icon">✎</div>
                  <div class="domain-content text-left">
                    <h4 class="domain-title">Editorial</h4>
                    <p class="domain-desc">Stories, copy, and product content.</p>
                  </div>
                </button>
                <button type="button" class="domain-card inline-select" data-value="creatives">
                  <div class="domain-icon">★</div>
                  <div class="domain-content text-left">
                    <h4 class="domain-title">Creatives</h4>
                    <p class="domain-desc">Design, motion, and media production.</p>
                  </div>
                </button>
                <button type="button" class="domain-card inline-select" data-value="marketing">
                  <div class="domain-icon">☰</div>
                  <div class="domain-content text-left">
                    <h4 class="domain-title">Marketing</h4>
                    <p class="domain-desc">Campaigns, socials, and growth.</p>
                  </div>
                </button>
                <button type="button" class="domain-card inline-select" data-value="ai/ml">
                  <div class="domain-icon">∞</div>
                  <div class="domain-content text-left">
                    <h4 class="domain-title">AI / ML</h4>
                    <p class="domain-desc">Intelligent features using data & models.</p>
                  </div>
                </button>
                <button type="button" class="domain-card inline-select" data-value="sponsorship">
                  <div class="domain-icon">₹</div>
                  <div class="domain-content text-left">
                    <h4 class="domain-title">Sponsorship</h4>
                    <p class="domain-desc">Partnerships and resources.</p>
                  </div>
                </button>
              </div>
              <p id="domain-error" class="text-red-400 text-sm mt-1 hidden">Please select a domain to continue.</p>
            </div>
          </div>

          <div class="space-y-6 reveal">
            <h3 class="text-2xl font-bold mb-2" style="color: #45b4ff">Social Media Profiles</h3>
            
            <div class="floating-group">
              <input type="url" name="github" placeholder="GitHub Profile URL *" required class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm" />
              <span class="floating-label">GitHub Profile URL *</span>
            </div>
            
            <div class="floating-group">
              <input type="url" name="linkedin" placeholder="LinkedIn Profile URL *" required class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm" />
              <span class="floating-label">LinkedIn Profile URL *</span>
            </div>
            <div>
              <label class="block text-[#45B4FF] font-medium mb-1">Upload Resume</label>
              <input
                type="file"
                name="resume"
                accept="application/pdf"
                id="resumeInput"
                class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-[#45B4FF] file:text-black hover:file:bg-[#1e90ff] transition shadow-sm"
              />
              <p class="text-xs text-[#45B4FF] mt-1">Max file size: 2MB. Only PDF files are allowed.</p>
              <a id="resumeViewLink" href="#" target="_blank" class="hidden text-[#45B4FF] underline text-sm mt-2 inline-block">View uploaded resume</a>
            </div>
          </div>

          <div class="space-y-6 reveal">
            <h3 class="text-2xl font-bold mb-2" style="color: #45b4ff">Experience</h3>
            
            <div class="floating-group">
              <textarea name="standout" placeholder="What makes you stand out from other candidates? *" required rows="4" class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm resize-none"></textarea>
              <span class="floating-label">What makes you stand out from other candidates? *</span>
            </div>
            
            <div class="floating-group">
              <textarea name="projects" placeholder="If you have worked on any projects, please describe them here (include technologies used, your role, and outcomes)" rows="4" class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm resize-none"></textarea>
              <span class="floating-label">If you have worked on any projects, please describe them here (include technologies used, your role, and outcomes)</span>
            </div>
            
            <div class="floating-group">
              <textarea name="achievements" placeholder="If you have any achievements, certifications, hackathons, or any relevant experience, please list them out here" rows="4" class="w-full p-3 bg-[#23262F] border border-[#353945] rounded-xl text-[#45B4FF] placeholder-[#45B4FF] focus:outline-none focus:ring-2 focus:ring-[#45B4FF] focus:bg-[#23262F] transition shadow-sm resize-none"></textarea>
              <span class="floating-label">If you have any achievements, certifications, hackathons, or any relevant experience, please list them out here</span>
            </div>
          </div>

          <button
            type="submit"
            class="btn btn-primary w-full mt-6 btn-ripple reveal magnetic text-lg py-4"
          >
            Submit Recruitment
          </button>

          <p
            id="form-message"
            class="text-center text-base mt-2"
            style="color: #45b4ff"
          ></p>
        </form>
      </div>
    </section>

    <!-- Bottom navbar with social handles -->
    <nav class="fixed bottom-0 left-0 right-0 z-30">
      <div class="mx-auto w-full max-w-5xl flex items-center justify-center gap-6 bg-[#0e0f13]/80 backdrop-blur-sm border-t border-[#23262F] px-6 h-14 shadow-[0_-6px_24px_rgba(0,0,0,0.35)]">
        <a
          href="https://www.linkedin.com/company/srm-insider-community/"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 text-[#d7f1ff] hover:text-white transition font-bold"
          aria-label="LinkedIn - SRM Insider Community"
        >
          <svg class="w-5 h-5 text-[#45B4FF]" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.5 8h4V24h-4V8zm7.5 0h3.8v2.2h.06c.53-1 1.84-2.2 3.78-2.2 4.04 0 4.79 2.66 4.79 6.12V24h-4v-7.1c0-1.7-.03-3.88-2.37-3.88-2.37 0-2.74 1.85-2.74 3.76V24h-4V8z"/></svg>
          <span class="text-sm hidden sm:inline">LinkedIn</span>
        </a>
        <span class="h-5 w-px bg-[#23262F]"></span>
        <a
          href="https://www.instagram.com/srm.insider?igsh=d2o1Y2Vxb25qeWc5"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 text-[#d7f1ff] hover:text-white transition font-bold"
          aria-label="Instagram - SRM Insider"
        >
          <svg class="w-5 h-5 text-[#45B4FF]" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm10 2c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654 1.346-3 3-3h10zm-5 3a5 5 0 100 10 5 5 0 000-10zm0 2.5a2.5 2.5 0 110 5 2.5 2.5 0 010-5zM17.5 6a1 1 0 100 2 1 1 0 000-2z"/></svg>
          <span class="text-sm hidden sm:inline">Instagram</span>
        </a>
      </div>
    </nav>

    <script>
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyr2Uwhsh_JWoZ8kLwYs1NGkpF2nE5DXDrDVu2tTDz6clwfdH4DG6GrL8Yf79nk3wlZ/exec";
  
  const resumeInput = document.getElementById('resumeInput');
  const resumeViewLink = document.getElementById('resumeViewLink');
  const successModal = document.getElementById("success-modal");
  const welcomeModal = document.getElementById("welcome-modal");
  const formContainer = document.getElementById('enquiry-form');
  const bgBlobs = document.querySelectorAll('.parallax');
  const steps = document.querySelectorAll('.roadmap .step');
  const domainsModal = document.getElementById('domains-modal');
  const openDomains = document.getElementById('open-domains');
  const closeDomains = document.getElementById('close-domains');
  const cancelDomains = document.getElementById('cancel-domains');
  const confirmDomain = document.getElementById('confirm-domain');
  const domainSelect = document.querySelector('select[name="domain"]');
  const domainChosen = document.getElementById('domain-chosen');
  const domainHidden = document.getElementById('domainHidden');
  
  // Stagger fade-in on load
  document.addEventListener('DOMContentLoaded', () => {
    document.body.classList.add('page-loaded');
    // Optional: show welcome after slight delay on first visit in this session
    if (!sessionStorage.getItem('welcomed')) {
      setTimeout(() => {
        welcomeModal.classList.remove('hidden');
        sessionStorage.setItem('welcomed', '1');
      }, 400);
    }

    // Scroll reveal
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('revealed');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.reveal').forEach((el) => observer.observe(el));

    // Cursor sheen tracking for buttons
    document.querySelectorAll('.btn').forEach((btn) => {
      btn.addEventListener('mousemove', (e) => {
        const r = btn.getBoundingClientRect();
        btn.style.setProperty('--x', (e.clientX - r.left) + 'px');
        btn.style.setProperty('--y', (e.clientY - r.top) + 'px');
      });
    });

    // Roadmap initial state: highlight current (step 2)
    steps.forEach((s, i) => s.classList.toggle('active', i <= 1));
  });
  
  resumeInput.addEventListener('change', function() {
    if (resumeInput.files && resumeInput.files.length > 0) {
      const file = resumeInput.files[0];
      if (file.type === 'application/pdf' && file.size <= 2 * 1024 * 1024) {
        const fileURL = URL.createObjectURL(file);
        resumeViewLink.href = fileURL;
        resumeViewLink.classList.remove('hidden');
        resumeViewLink.textContent = 'View uploaded resume';
      } else {
        resumeViewLink.href = '#';
        resumeViewLink.classList.add('hidden');
      }
    } else {
      resumeViewLink.href = '#';
      resumeViewLink.classList.add('hidden');
    }
  });

  const form = document.getElementById('enquiry-form');
  form.addEventListener('submit', function(e) {
    e.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());
    const resumeFile = resumeInput.files[0];
    const domainHiddenInput = document.getElementById('domainHidden');
    if (domainHiddenInput && !domainHiddenInput.value) {
      const err = document.getElementById('domain-error');
      if (err) err.classList.remove('hidden');
      document.getElementById('domains').scrollIntoView({ behavior: 'smooth', block: 'center' });
      return;
    }
    
    // File validation
    if (resumeFile) {
        if (resumeFile.type !== 'application/pdf') {
          alert('Only PDF files are allowed for resume upload.');
          return;
        }
        if (resumeFile.size > 2 * 1024 * 1024) {
          alert('Resume file size should not exceed 2MB.');
          return;
        }
    }

    document.getElementById("loader-overlay").classList.remove("hidden");

    // Handle file reading if a file is present
    if (resumeFile) {
      const reader = new FileReader();
      reader.onloadend = function() {
        data.resumeFile = reader.result; // Base64 encoded file
        data.resumeFileName = resumeFile.name;
        data.resumeMimeType = resumeFile.type;
        sendData(data);
      };
      reader.readAsDataURL(resumeFile);
    } else {
      sendData(data); // Send data without a file
    }
  });

  function sendData(data) {
    fetch(SCRIPT_URL, {
        method: 'POST',
        body: JSON.stringify(data),
      })
      .then(res => res.json())
      .then(response => {
        document.getElementById("loader-overlay").classList.add("hidden");
        if (response.result === "success") {
          form.reset();
          successModal.classList.remove("hidden");
          document.getElementById("form-message").textContent = "";
          resumeViewLink.href = '#';
          resumeViewLink.classList.add('hidden');
          launchConfetti();
        } else {
          throw new Error(response.message || "Unknown error");
        }
      })
      .catch(error => {
        document.getElementById("loader-overlay").classList.add("hidden");
        document.getElementById("form-message").textContent =
          "Something went wrong. Please try again. Error: " + error.message;
      });
  }

  document.getElementById("close-modal").onclick = function() {
    successModal.classList.add("hidden");
  };

  // Welcome modal controls (guarded to avoid runtime error when modal/button don't exist)
  const closeWelcomeBtn = document.getElementById('close-welcome');
  if (closeWelcomeBtn && welcomeModal) {
    closeWelcomeBtn.addEventListener('click', () => {
      welcomeModal.classList.add('hidden');
    });
  }

  // Show welcome when clicking the logo (acts like a link-triggered popup) — guard before using
  const logoEl = document.querySelector('img[alt="SRM Insider Logo"]');
  if (logoEl && welcomeModal) {
    logoEl.addEventListener('click', () => {
      welcomeModal.classList.remove('hidden');
      launchConfetti();
    });
  }

  // Button ripple effect
  document.querySelectorAll('.btn-ripple').forEach((btn) => {
    btn.addEventListener('click', function (e) {
      const rect = this.getBoundingClientRect();
      const ripple = document.createElement('span');
      const size = Math.max(rect.width, rect.height);
      ripple.style.width = ripple.style.height = size + 'px';
      ripple.style.left = (e.clientX - rect.left - size / 2) + 'px';
      ripple.style.top = (e.clientY - rect.top - size / 2) + 'px';
      ripple.className = 'ripple';
      this.appendChild(ripple);
      setTimeout(() => ripple.remove(), 600);
    });
  });

  // Random sparkle on button hover
  document.querySelectorAll('.btn-primary').forEach((btn) => {
    btn.addEventListener('mouseenter', () => {
      for (let i = 0; i < 4; i++) {
        const s = document.createElement('span');
        s.className = 'spark';
        s.style.left = (Math.random()*100) + '%';
        s.style.top = (Math.random()*100) + '%';
        btn.appendChild(s);
        setTimeout(() => s.remove(), 900);
      }
    });
  });

  // Parallax motion for ambient blobs
  window.addEventListener('mousemove', (e) => {
    const cx = window.innerWidth / 2;
    const cy = window.innerHeight / 2;
    const dx = (e.clientX - cx) / cx;
    const dy = (e.clientY - cy) / cy;
    bgBlobs.forEach((el) => {
      const speed = parseFloat(el.getAttribute('data-speed') || '0');
      el.style.transform = `translate(${dx * 30 * speed}px, ${dy * 30 * speed}px)`;
    });
  });

  // Magnetic hover for buttons
  const magnets = document.querySelectorAll('.magnetic');
  magnets.forEach((btn) => {
    const strength = 18;
    btn.addEventListener('mousemove', (e) => {
      const r = btn.getBoundingClientRect();
      const x = e.clientX - (r.left + r.width/2);
      const y = e.clientY - (r.top + r.height/2);
      btn.style.transform = `translate(${x/strength}px, ${y/strength}px)`;
    });
    btn.addEventListener('mouseleave', () => {
      btn.style.transform = '';
    });
  });

  // Roadmap interactions
  steps.forEach((btn, i) => {
    btn.addEventListener('click', () => {
      if (i === 0) {
        welcomeModal.classList.remove('hidden');
        launchConfetti();
      }
      if (i === 1) {
        document.getElementById('enquiry-form').scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
      if (i === 2) {
        const msg = document.getElementById('form-message');
        if (msg) {
          msg.style.color = '#45B4FF';
          msg.textContent = 'Interview details will be emailed after review.';
          setTimeout(() => { msg.textContent = ''; }, 4000);
        }
      }
    });
  });

  // Callout arrow click -> scroll to form
  const calloutArrow = document.getElementById('callout-arrow');
  if (calloutArrow) {
    calloutArrow.addEventListener('click', () => {
      document.getElementById('enquiry-form').scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
  }

  // Hide roadmap on scroll down, show on scroll up
  const roadmapBar = document.querySelector('.roadmap');
  let lastScrollY = window.scrollY;
  window.addEventListener('scroll', () => {
    const currentY = window.scrollY;
    const scrollingDown = currentY > lastScrollY + 4;
    const nearTop = currentY < 10;
    if (roadmapBar) {
      if (scrollingDown && !nearTop) {
        roadmapBar.classList.add('hidden-roadmap');
      } else {
        roadmapBar.classList.remove('hidden-roadmap');
      }
    }
    lastScrollY = currentY;
  });

  // Domains modal interactions (if modal exists)
  function showDomains() { domainsModal.classList.remove('hidden'); }
  function hideDomains() { domainsModal.classList.add('hidden'); }
  if (openDomains) openDomains.addEventListener('click', showDomains);
  if (closeDomains) closeDomains.addEventListener('click', hideDomains);
  if (cancelDomains) cancelDomains.addEventListener('click', hideDomains);

  let chosenValue = '';
  document.querySelectorAll('.domain-card.selectable').forEach((card) => {
    card.addEventListener('click', () => {
      document.querySelectorAll('.domain-card.selectable').forEach(c => c.classList.remove('selected'));
      card.classList.add('selected');
      chosenValue = card.getAttribute('data-value') || '';
      confirmDomain.removeAttribute('disabled');
    });
  });
  if (confirmDomain) {
    confirmDomain.addEventListener('click', () => {
      if (chosenValue && domainSelect) {
        domainSelect.value = chosenValue;
      }
      hideDomains();
    });
  }

  // Inline domain selection
  document.querySelectorAll('.domain-card.inline-select').forEach((card) => {
    card.addEventListener('click', () => {
      // Remove 'selected' from all cards
      document.querySelectorAll('.domain-card.inline-select').forEach(c => c.classList.remove('selected'));
      // Add 'selected' to clicked card
      card.classList.add('selected');
      // Set hidden input value for form submission
      const value = card.getAttribute('data-value') || '';
      const domainHidden = document.getElementById('domainHidden');
      if (domainHidden) domainHidden.value = value;
      // Optionally show selected domain text
      const domainChosen = document.getElementById('domain-chosen');
      if (domainChosen) {
        domainChosen.textContent = `Selected: ${card.querySelector('.domain-title')?.textContent || value}`;
        domainChosen.classList.remove('hidden');
      }
      // Hide error if shown
      const err = document.getElementById('domain-error');
      if (err) err.classList.add('hidden');
    });
  });

  // Confetti
  function launchConfetti() {
    const colors = ['#45B4FF', '#1e90ff', '#89d6ff', '#b3e5ff', '#00e5ff', '#7c4dff', '#ff80ab', '#00bcd4'];
    const total = 240;
    for (let i = 0; i < total; i++) {
      const piece = document.createElement('span');
      const size = 6 + Math.random() * 10;
      piece.className = 'confetti-piece';
      piece.style.left = Math.random() * 100 + 'vw';
      piece.style.width = size + 'px';
      piece.style.height = (size * (0.7 + Math.random()*0.6)) + 'px';
      piece.style.borderRadius = Math.random() > 0.5 ? '2px' : '50%';
      piece.style.background = colors[Math.floor(Math.random() * colors.length)];
      piece.style.setProperty('--dur', (1.8 + Math.random() * 2.2) + 's');
      piece.style.setProperty('--sway', (20 + Math.random() * 60) + 'px');
      piece.style.setProperty('--swayDur', (0.9 + Math.random() * 1.8) + 's');
      piece.style.opacity = 0.85 + Math.random() * 0.15;
      document.body.appendChild(piece);
      setTimeout(() => piece.remove(), 4500);
    }
  }

  document.querySelector('input[name="srm_email"]').addEventListener('blur', function() {
    const email = this.value;
    if (email && !email.endsWith('@srmist.edu.in')) {
      this.setCustomValidity('Please enter a valid SRM email address (@srmist.edu.in)');
    } else {
      this.setCustomValidity('');
    }
  });
</script>
  </body>
</html>